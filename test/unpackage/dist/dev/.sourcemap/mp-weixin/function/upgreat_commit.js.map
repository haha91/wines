{"version":3,"sources":["webpack:///C:/Users/Yiwei/Desktop/test/function/upgreat_commit.vue?3b87","webpack:///C:/Users/Yiwei/Desktop/test/function/upgreat_commit.vue?71ea","webpack:///C:/Users/Yiwei/Desktop/test/function/upgreat_commit.vue?4cba","webpack:///C:/Users/Yiwei/Desktop/test/function/upgreat_commit.vue?8d94","webpack:///C:/Users/Yiwei/Desktop/test/function/upgreat_commit.vue","webpack:///C:/Users/Yiwei/Desktop/test/function/upgreat_commit.vue?3e95","webpack:///C:/Users/Yiwei/Desktop/test/function/upgreat_commit.vue?9a1f"],"names":["timeInfo","require","db","wx","cloud","database","components","loginBox","name","props","wine_id","String","data","userId","userIcon","userNickName","temp_data","loginState","methods","upload_comment","id","console","log","uploading","user","collection","get","then","res","avatarUrl","nickName","$store","dispatch","message","$nextTick","$refs","jump_out","start","catch","err","comment_detail","tipsdata","count_bad","count_good","uploadTime","formatTime","Date","add","push","$emit","computed","count","login_state","user_details","user_info","_openid","login"],"mappings":"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","file":"function/upgreat_commit.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./upgreat_commit.vue?vue&type=template&id=f4c2bcd4&\"\nvar renderjs\nimport script from \"./upgreat_commit.vue?vue&type=script&lang=js&\"\nexport * from \"./upgreat_commit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./upgreat_commit.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"C:/Users/Yiwei/Desktop/test/function/upgreat_commit.vue\"\nexport default component.exports","export * from \"-!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./upgreat_commit.vue?vue&type=template&id=f4c2bcd4&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./upgreat_commit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./upgreat_commit.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {mapState} from 'vuex'\nimport loginBox from'./loginBox.vue'\nvar timeInfo = require('../js/getTime.js')\nconst db = wx.cloud.database()\n\nexport default{\n\tcomponents:{loginBox},\n\tname:'upgreat_comment',\n\tprops:{\n\t\twine_id:String,\n\t},\n\tdata(){\n\t\treturn{\n\t\t\tuserId:\"\",\n\t\t\tuserIcon:\"\",\n\t\t\tuserNickName:\"\",\n\t\t\ttemp_data:[],\n\t\t\tloginState:false\n\t\t}\n\t},\n\tmethods:{\n\t\tupload_comment(id){//上传前检查(id问题还没有解决)\n\t\t\tconsole.log(this.loginState)\n\t\t\tif(this.loginState){\n\t\t\t\t\n\t\t\t\tthis.uploading()\n\t\t\t}else{\n\t\t\t\t\tlet user = db.collection('users');\n\t\t\t\t\tuser.get()\n\t\t\t\t\t.then((res)=>{\n\t\t\t\t\t\tif(res.data[0]){\n\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\tthis.userIcon=res.data[0].avatarUrl\n\t\t\t\t\t\t\tthis.userNickName = res.data[0].nickName\n\t\t\t\t\t\t\tthis.$store.dispatch('set_user_login',res.data[0])//userinfo 必须有统一标准\n\t\t\t\t\t\t\tthis.uploading()\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tconsole.log(\"无注册\")\n\t\t\t\t\t\t\tlet message = \"登陆后再操作\"\n\t\t\t\t\t\t\tthis.$nextTick(()=>{\n\t\t\t\t\t\t\t\tthis.$refs.jump_out.start(message)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err)=>{\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tconsole.log(id)\n\t\t\t\tconsole.log(this.loginState)\n\t\t\t},\n\t\t\t\n\t\tuploading(){\n\t\t\t\tlet data ={\n\t\t\t\t\tcomment_detail:this.tipsdata,\n\t\t\t\t\tuserIcon:this.userIcon,\n\t\t\t\t\tuserNickName:this.userNickName,\n\t\t\t\t\twine_id:this.wine_id,\n\t\t\t\t\tcount_bad:0,\n\t\t\t\t\tcount_good:0,\n\t\t\t\t\tuploadTime:timeInfo.formatTime(new Date()),\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tdb.collection('user_comment').add({\n\t\t\t\t\tdata:data\n\t\t\t\t})\n\t\t\t\t.then((res)=>{\n\t\t\t\t\tthis.temp_data.push(data)\n\t\t\t\t\t//wx.setStorage({\n\t\t\t\t\t\t//key:'tempCommit',\n\t\t\t\t\t\t//data:this.temp_data,\n\t\t\t\t\t//})\n\t\t\t\t\tthis.$emit(\"passData\",data)\n\t\t\t\t\tthis.$store.dispatch('create_temp_data',this.temp_data)//create temperate data\n\t\t\t\t\tconsole.log('upload')\n\t\t\t\t})\n\t\t\t\t.catch((err)=>{\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t})\n\t\t\t}\n\t\t\n\t\t\n\t\t},\n\t\t\n\t\n\tcomputed:{\n\t\t//get the data from dataStore(the vuex datastorage)\n\t\t...mapState(['user_info','login_state']),\n\t\tcount(){\n\t\t\tthis.loginState=this.login_state\n\t\t\tif(this.login_state){\n\t\t\t\t\n\t\t\t\tlet user_details=this.user_info.user\n\t\t\t\tthis.userId = user_details._openid\n\t\t\t\tthis.userIcon = user_details.avatarUrl\n\t\t\t\tthis.userNickName = user_details.nickName\n\t\t\t\t\n\t\t\t\tconsole.log(user_details)\n\t\n\t\n\t\t\t}else{\n\t\t\t\t\n\t\t\t\tconsole.log(this.login)\n\t\t\t}\n\t\t}\n\t}\n}\n","import mod from \"-!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./upgreat_commit.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./upgreat_commit.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1589493163594\n      var cssReload = require(\"K:/study/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}