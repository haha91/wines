{"version":3,"sources":["webpack:///C:/Users/Yiwei/Desktop/test/main.js","webpack:///C:/Users/Yiwei/Desktop/test/pages/myaccount/components/myPost.vue?ac97","webpack:///C:/Users/Yiwei/Desktop/test/pages/myaccount/components/myPost.vue?4ded","webpack:///C:/Users/Yiwei/Desktop/test/pages/myaccount/components/myPost.vue?f359","webpack:///C:/Users/Yiwei/Desktop/test/pages/myaccount/components/myPost.vue?68d6","webpack:///C:/Users/Yiwei/Desktop/test/pages/myaccount/components/myPost.vue"],"names":["createPage","Page","db","wx","cloud","database","users","collection","components","HMmessages","loginBox","shareBox","data","avatarUrl","nickName","openid","clientPostData","urlLocation","created","getUserInfo","a","console","log","getPostInfo","message","$nextTick","$refs","jump_out","start","methods","Promise","s","f","get","then","res","length","loginState","user_info","_openid","$store","dispatch","catch","err","postList","where","setPostInfoMap","info","clientPostList","map","item","id","_id","detail"],"mappings":"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","file":"pages/myaccount/components/myPost.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/myaccount/components/myPost.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./myPost.vue?vue&type=template&id=6b22b327&\"\nvar renderjs\nimport script from \"./myPost.vue?vue&type=script&lang=js&\"\nexport * from \"./myPost.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"C:/Users/Yiwei/Desktop/test/pages/myaccount/components/myPost.vue\"\nexport default component.exports","export * from \"-!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./myPost.vue?vue&type=template&id=6b22b327&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./myPost.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./myPost.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar db = wx.cloud.database()\n\nvar users = db.collection(\"users\");\nimport HMmessages from \"@/components/HM-messages/HM-messages.vue\"//引入及时反馈组件\nimport loginBox from'../../../function/loginBox.vue'\nimport shareBox from'../../../function/shareBox.vue'\n\nexport default {\ncomponents: {HMmessages,loginBox,shareBox},\n\tdata() {\n\t\t\n\t\treturn {\n\t\t\tavatarUrl:\"\",\n\t\t\tnickName:\"\",\n\t\t\topenid:\"\",\n\t\t\tclientPostData:[],//列表数据\n\t\t\turlLocation:\"../../post_detail/detail?id=\"\n\t\t}\t\n\t},\n\tasync created() {\n\t\t var a = await this.getUserInfo()\n\t\t if(a==\"已登陆\"){\n\t\t\t console.log(a)\n\t\t\t\tthis.getPostInfo()\n\t\t }else{\n\t\t\t console.log(a)\n\t\t\t let message =\"登陆后再操作\"\n\t\t\t this.$nextTick(()=>{\n\t\t\t \tthis.$refs.jump_out.start(message)\n\t\t\t \n\t\t\t })\n\t\t\t\n\t\t }\n\t\t\n\t\t\n\t},\n\tmethods:{\n\t\t//get user information\n\t\tgetUserInfo(){\n\t\t\n\t\treturn new Promise((s,f)=>{\n\t\t\tusers.get()\n\t\t\t.then((res)=>{\n\t\t\t\tconsole.log(res.data.length)\n\t\t\t\tif(res.data.length==0){\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\ts(\"未登陆\")\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\tthis.loginState=true\n\t\t\t\t\tlet user_info = res.data[0]\n\t\t\t\t\tthis.avatarUrl = user_info.avatarUrl\n\t\t\t\t\tthis.nickName = user_info.nickName\n\t\t\t\t\tthis.openid=user_info._openid\n\t\t\t\t\t//可以上传提交数据到数据库\n\t\t\t\t\tthis.$store.dispatch('set_user_login',user_info)\n\t\t\t\t\ts('已登陆')\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err)=>{\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t\t\n\t\t})\n\t\t\t\n\t\t\t\n\t\t},\n\t\t\n\t\tgetPostInfo(){\n\t\t\tconst postList = db.collection(\"post_info\").where({\n\t\t\t\t_openid:this.openid\n\t\t\t})\n\t\t\tpostList.get()\n\t\t\t\t.then((res)=>{\n\t\t\t\t\t\n\t\t\t\t\tthis.setPostInfoMap(res.data)\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t\t.catch((err)=>{\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t})\n\t\t},\n\t\tsetPostInfoMap(info){\n\t\t\n\t\t\tvar clientPostList=info.map((item)=>{\n\t\t\t\t\n\t\t\t\tlet id = item._id\n\t\t\t\tlet detail = item.detail\n\t\t\t\treturn{\n\t\t\t\t\tid,\n\t\t\t\t\tdetail\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.clientPostData = clientPostList\n\t\t}\n\t}\n\t\n}\n"],"sourceRoot":""}