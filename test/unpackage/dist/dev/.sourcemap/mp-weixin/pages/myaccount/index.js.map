{"version":3,"sources":["webpack:///C:/Users/Yiwei/Desktop/test/main.js","webpack:///C:/Users/Yiwei/Desktop/test/pages/myaccount/index.vue?d9bc","webpack:///C:/Users/Yiwei/Desktop/test/pages/myaccount/index.vue?a438","webpack:///C:/Users/Yiwei/Desktop/test/pages/myaccount/index.vue?8263","webpack:///C:/Users/Yiwei/Desktop/test/pages/myaccount/index.vue?db8f","webpack:///C:/Users/Yiwei/Desktop/test/pages/myaccount/index.vue","webpack:///C:/Users/Yiwei/Desktop/test/pages/myaccount/index.vue?e856","webpack:///C:/Users/Yiwei/Desktop/test/pages/myaccount/index.vue?2d18"],"names":["createPage","Page","db","wx","cloud","database","data","not_login","loginState","avatarUrl","nickName","openid","clicked","autorization_level","components","HMmessages","loginBox","methods","test","a","console","log","getUserInfo","info","user_info","detail","userInfo","then","res","userInfo_temp","$store","dispatch","catch","fail","users","collection","get","length","_openid","err","created","computed","count","login_state","user_details","user","login"],"mappings":"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","file":"pages/myaccount/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/myaccount/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=b9a4a218&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"C:/Users/Yiwei/Desktop/test/pages/myaccount/index.vue\"\nexport default component.exports","export * from \"-!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=b9a4a218&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.HMmessages = _vm.$refs.HMmessages\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport HMmessages from \"@/components/HM-messages/HM-messages.vue\"\nimport loginBox from '../../function/loginBox.vue'\nimport {userLogin} from '../../js/user.js'\nimport {mapState} from'vuex'\nconst db = wx.cloud.database()\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tnot_login:false,\n\t\t\tloginState: false,\n\t\t\tavatarUrl: \"\",\n\t\t\tnickName: \"\",\n\t\t\topenid: \"\",\n\t\t\tclicked:false,\n\t\t\tautorization_level:\"\",\n\t\t}\n\t},\n\tcomponents: {\n\t\tHMmessages,\n\t\tloginBox\n\t},\n\n\tmethods: {\n\t\ttest(a){\n\t\t\tconsole.log(a)\n\t\t},\n\t\tgetUserInfo(info){\n\t\t\tif(!this.clicked){\n\t\t\t\tthis.clicked=true\n\t\t\t\tconsole.log(info)\n\t\t\t\tlet user_info = info.detail.userInfo\n\t\t\t\tuserLogin(user_info) \n\t\t\t\t.then((res)=>{\n\t\t\t\t\tconsole.log(res)//successful login\n\t\t\t\t\t\n\t\t\t\t\tthis.not_login=false\n\t\t\t\t\tlet userInfo_temp=info.detail.userInfo\n\t\t\t\t\tthis.nickName = userInfo_temp.nickName\n\t\t\t\t\tthis.avatarUrl = userInfo_temp.avatarUrl\n\t\t\t\t\tthis.$store.dispatch('set_user_login',user_info)//userinfo 必须有统一标准\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t\t.catch((fail)=>{\n\t\t\t\t\tconsole.log(fail)\n\t\t\t\t})\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tuserInfo() {\n\t\t\tconst users = db.collection('users')\n\t\t\tusers.get()\n\t\t\t\t.then((res) => {\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t\tif (res.data.length == 0) {\n\t\t\t\t\t\tconsole.log(\"未登陆\")\n\t\t\t\t\t\tthis.not_login=true\n\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.log('已登陆') //得到用户资料\n\t\t\t\t\t\tlet user_info = res.data[0]\n\t\t\t\t\t\tthis.avatarUrl = user_info.avatarUrl\n\t\t\t\t\t\tthis.nickName = user_info.nickName\n\t\t\t\t\t\tthis.openid = user_info._openid\n\t\t\t\t\t\tthis.autorization_level = user_info.autorization_level\n\t\t\t\t\t\n\t\t\t\t\t\t//可以上传提交数据到数据库\n\t\t\t\t\t\tthis.$store.dispatch('set_user_login',user_info)//userinfo 必须有统一标准\n\t\t\t\t\t\t//传入到暂时性本地数据库\n\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t})\n\n\t\t}\n\n\t},\n\t\n\n\n\n\tcreated() {\n\t\tif(!this.loginState){\n\t\t\tthis.userInfo()\n\t\t}\n\t\t\n\t},\n\t\n\tcomputed:{\n\t\t...mapState(['user_info','login_state']),\n\t\tcount(){\n\t\t\tthis.not_login=false\n\t\t\tthis.loginState=this.login_state\n\t\t\tif(this.login_state){\n\t\t\t\t\n\t\t\t\tlet user_details=this.user_info.user\n\t\t\t\tthis.openid = user_details._openid\n\t\t\t\tthis.avatarUrl = user_details.avatarUrl\n\t\t\t\tthis.nickName = user_details.nickName\n\t\t\t\t\n\t\t\t\tconsole.log(user_details)\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t}else{\n\t\t\t\t\n\t\t\t\tconsole.log(this.login)\n\t\t\t}\n\t\t}\n\t}\n}\n","import mod from \"-!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!K:\\\\study\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1589493163465\n      var cssReload = require(\"K:/study/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}