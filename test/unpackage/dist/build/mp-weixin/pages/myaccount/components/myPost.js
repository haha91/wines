(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/myaccount/components/myPost"],{1597:function(n,t,e){"use strict";e.r(t);var o=e("9d1b"),a=e("a23e");for(var r in a)"default"!==r&&function(n){e.d(t,n,(function(){return a[n]}))}(r);var c,u=e("f0c5"),i=Object(u["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],c);t["default"]=i.exports},3334:function(n,t,e){"use strict";(function(n){e("3f76"),e("921b");o(e("66fd"));var t=o(e("1597"));function o(n){return n&&n.__esModule?n:{default:n}}n(t.default)}).call(this,e("543d")["createPage"])},"60a6":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(e("4795"));function a(n){return n&&n.__esModule?n:{default:n}}function r(n,t,e,o,a,r,c){try{var u=n[r](c),i=u.value}catch(s){return void e(s)}u.done?t(i):Promise.resolve(i).then(o,a)}function c(n){return function(){var t=this,e=arguments;return new Promise((function(o,a){var c=n.apply(t,e);function u(n){r(c,o,a,u,i,"next",n)}function i(n){r(c,o,a,u,i,"throw",n)}u(void 0)}))}}var u=wx.cloud.database(),i=u.collection("users"),s=function(){e.e("components/HM-messages/HM-messages").then(function(){return resolve(e("301a"))}.bind(null,e)).catch(e.oe)},l=function(){Promise.all([e.e("common/vendor"),e.e("function/loginBox")]).then(function(){return resolve(e("0b2f"))}.bind(null,e)).catch(e.oe)},f=function(){e.e("function/shareBox").then(function(){return resolve(e("0e72"))}.bind(null,e)).catch(e.oe)},d={components:{HMmessages:s,loginBox:l,shareBox:f},data:function(){return{avatarUrl:"",nickName:"",openid:"",clientPostData:[],urlLocation:"../../post_detail/detail?id="}},created:function(){var n=this;return c(o.default.mark((function t(){var e,a;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.getUserInfo();case 2:e=t.sent,"已登陆"==e?(console.log(e),n.getPostInfo()):(console.log(e),a="登陆后再操作",n.$nextTick((function(){n.$refs.jump_out.start(a)})));case 4:case"end":return t.stop()}}),t)})))()},methods:{getUserInfo:function(){var n=this;return new Promise((function(t,e){i.get().then((function(e){if(console.log(e.data.length),0==e.data.length)t("未登陆");else{n.loginState=!0;var o=e.data[0];n.avatarUrl=o.avatarUrl,n.nickName=o.nickName,n.openid=o._openid,t("已登陆")}})).catch((function(n){console.log(n)}))}))},getPostInfo:function(){var n=this,t=u.collection("post_info").where({_openid:this.openid});t.get().then((function(t){n.setPostInfoMap(t.data)})).catch((function(n){console.log(n)}))},setPostInfoMap:function(n){var t=n.map((function(n){var t=n._id,e=n.detail;return{id:t,detail:e}}));this.clientPostData=t}}};t.default=d},"9d1b":function(n,t,e){"use strict";var o,a=function(){var n=this,t=n.$createElement;n._self._c},r=[];e.d(t,"b",(function(){return a})),e.d(t,"c",(function(){return r})),e.d(t,"a",(function(){return o}))},a23e:function(n,t,e){"use strict";e.r(t);var o=e("60a6"),a=e.n(o);for(var r in o)"default"!==r&&function(n){e.d(t,n,(function(){return o[n]}))}(r);t["default"]=a.a}},[["3334","common/runtime","common/vendor"]]]);